(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{16:function(e,c,a){var p=a(17);"string"==typeof p&&(p=[[e.i,p,""]]),p.locals&&(e.exports=p.locals);(0,a(2).default)("data-quickpaper-1edcc983",p,!0)},17:function(e,c,a){(e.exports=a(1)(!1)).push([e.i,"\n    [quickpaper] {\n        max-width: 1000px;\n        margin: auto;\n        padding-top: 50px;\n    }\n\n    .tips {\n        position: fixed;\n        width: 100vw;\n        left: 0;\n        top: 0;\n        text-align: center;\n        z-index: 3;\n    }\n\n    .tips>span {\n        background-color: #FFEB3B;\n        color: #9E9E9E;\n        padding: 5px;\n        display: inline-block;\n        opacity: .7;\n        font-size: 12px;\n    }\n",""])},23:function(e,c,a){"use strict";a.r(c);var p=a(0),i=a.n(p),d={mounted:function(){var e=i.a.urlFormat(window.location.href);"fixed"in e.params&&this.doScroll("core",e.params.fixed)}};a(16);d.render=function(e){return e("div",{class:"doc-view",quickpaper:"","data-quickpaper-1edcc983":""},[e("p",{class:"tips","data-quickpaper-1edcc983":""},[e("span",{"data-quickpaper-1edcc983":""},["温馨提示：此接口主要提供给新框架复用，减小代码量，如果想使用image3D绘图，你可以移步",e("a",{href:"#/api",target:"_blank",class:"link","data-quickpaper-1edcc983":""},["接口文档"]),"查阅，谢谢！"])]),e("pre",{"q-code":"","data-quickpaper-1edcc983":""},["// 引入核心↵import image3DCode from 'image3d/build/image3D-core.min.js';↵↵// 创建核心对象↵var core = image3DCode(document.getElementsByTagName('canvas')[0]);"]),e("p",{"data-quickpaper-1edcc983":""},["引入核心把柄以后，传递一个canvas结点，返回的是一个对象，记作core，通过它你可以直接使用image3D提供的最基础的原始方法。"]),e("h2",{"@click":'doScroll("core","shader")',id:"fixed-shader",class:"canClick","data-quickpaper-1edcc983":""},["着色器"]),e("pre",{"q-code":"html","data-quickpaper-1edcc983":""},["\x3c!-- 顶点着色器 --\x3e↵<script type='x-shader/x-vertex' id='vs'>↵    void main(){}↵<\/script>"]),e("pre",{"q-code":"html","data-quickpaper-1edcc983":""},["\x3c!-- 片段着色器 --\x3e↵<script type='x-shader/x-fragment' id='fs'>↵    void main(){}↵<\/script>"]),e("p",{"data-quickpaper-1edcc983":""},["在JavaScript层面上着色器就是两段字符串，调用下面的便可以让着色器生效："]),e("pre",{"q-code":"","data-quickpaper-1edcc983":""},["core.shader(↵    document.getElementById('vs').innerHTML,↵    document.getElementById('fs').innerHTML↵);"]),e("h2",{"@click":'doScroll("core","setdata")',id:"fixed-setdata",class:"canClick","data-quickpaper-1edcc983":""},["设置数据"]),e("p",{"data-quickpaper-1edcc983":""},["我们知道uniform是只读的，可以是除了数组和结构体外的任意类型，主要用于两个着色器间数据传递，因此，设置数据其实涉及的是attribue和varying类型的变量（只能是float、vec2、vec3、vec4和mat2、mat3、mat4其中的一种类型）。"]),e("h3",{"data-quickpaper-1edcc983":""},["1.attribue"]),e("pre",{"q-code":"","data-quickpaper-1edcc983":""},["core.setAttribute[1,2,3,4][f,i](location, v0, v1, v2, v3);"]),e("h3",{"data-quickpaper-1edcc983":""},["2.varying"]),e("pre",{"q-code":"","data-quickpaper-1edcc983":""},["core.setUniform[1,2,3,4][f,i](location, v0, v1, v2, v3);"]),e("p",{"data-quickpaper-1edcc983":""},["此外，如果设置的数据是矩阵："]),e("pre",{"q-code":"","data-quickpaper-1edcc983":""},["core.setUniformMatrix[2,3,4]fv(location, value);"]),e("h2",{"@click":'doScroll("core","buffer")',id:"fixed-buffer",class:"canClick","data-quickpaper-1edcc983":""},["缓冲区"]),e("p",{"data-quickpaper-1edcc983":""},["缓冲区是一种更快速的给GPU大量数据的特殊通道，为了使用缓冲区，首先需要创建一个缓冲区："]),e("pre",{"q-code":"","data-quickpaper-1edcc983":""},["var buffer = core.buffer(isElement);"]),e("p",{"data-quickpaper-1edcc983":""},["在创建的时候需要传递一个boolean值类型的参数isElement，默认false表示缓冲区中保存了包含顶点的数据，如果传递true表示缓冲区保存了包含顶点的索引值。"]),e("p",{"data-quickpaper-1edcc983":""},["缓冲区创建好了以后，你就可以直接往缓冲区里面写入数据了："]),e("pre",{"q-code":"","data-quickpaper-1edcc983":""},["buffer.write(data);"]),e("p",{"data-quickpaper-1edcc983":""},["如果你创建的缓冲区是包含顶点的索引值的话，可能到这一步就结束了，否则，你可能还需要把缓冲区中的数据分配给具体的使用者："]),e("pre",{"q-code":"","data-quickpaper-1edcc983":""},["buffer.use(location, size, stride, offset);"]),e("ol",{"data-quickpaper-1edcc983":""},[e("li",{"data-quickpaper-1edcc983":""},["location：字符串类型，对应顶点着色器中定义的attribute类型的变量名；"]),e("li",{"data-quickpaper-1edcc983":""},["size：整数，表示一个完整的数据的个数；"]),e("li",{"data-quickpaper-1edcc983":""},["stride：整数，表示写入缓冲区数据一组的个数；"]),e("li",{"data-quickpaper-1edcc983":""},["offset：整数，表示读取起点。"])]),e("h2",{"@click":'doScroll("core","texture")',id:"fixed-texture",class:"canClick","data-quickpaper-1edcc983":""},["纹理"]),e("p",{"data-quickpaper-1edcc983":""},["纹理是片元着色器在逐片元过程中使用的，类似贴图，使用的第一步也是创建一个纹理："]),e("pre",{"q-code":"","data-quickpaper-1edcc983":""},["var texture = core.texture(type[, unit])"]),e("p",{"data-quickpaper-1edcc983":""},["type表示纹理的类型，unit表示使用哪个纹理单元（开启的编号，可选，默认0）。"]),e("p",{"data-quickpaper-1edcc983":""},["因为纹理有很多种，下面列出目前支持的类型："]),e("ol",{"data-quickpaper-1edcc983":""},[e("li",{"data-quickpaper-1edcc983":""},['"2d"：二维纹理(unit只有在这种纹理类型下才需要传递)；']),e("li",{"data-quickpaper-1edcc983":""},['"cube"：立方体纹理。'])]),e("p",{"data-quickpaper-1edcc983":""},["纹理创建好了以后，你需要把材料（比如图片等）和纹理绑定。"]),e("p",{"data-quickpaper-1edcc983":""},["如果你使用的是2d纹理，你应该这样绑定（假如我们这里已经准备好了一张图片img）："]),e("pre",{"q-code":"","data-quickpaper-1edcc983":""},["texture.useImage(img);"]),e("p",{"data-quickpaper-1edcc983":""},["而如果你使用的是cube纹理，你应该这样绑定（假如我们这里已经准备好了六张图片img1~img6）："]),e("pre",{"q-code":"","data-quickpaper-1edcc983":""},["texture.useCube([img1,img2,img3,img4,img5,img6], width, height);"]),e("p",{"data-quickpaper-1edcc983":""},["到这一步，纹理准备工作已经完成了，后面的就是在片元着色器中去使用这个纹理了。"]),e("h2",{"@click":'doScroll("core","painter")',id:"fixed-painter",class:"canClick","data-quickpaper-1edcc983":""},["基础画笔"]),e("h3",{"data-quickpaper-1edcc983":""},["绘图方法"]),e("pre",{"q-code":"","data-quickpaper-1edcc983":""},["var painter=core.painter();"]),e("p",{"data-quickpaper-1edcc983":""},["点："]),e("pre",{"q-code":"","data-quickpaper-1edcc983":""},["painter.points(first, count[, type]);"]),e("p",{"data-quickpaper-1edcc983":""},["直线："]),e("pre",{"q-code":"","data-quickpaper-1edcc983":""},["painter.lines(first, count[, type]);"]),e("p",{"data-quickpaper-1edcc983":""},["连续直线："]),e("pre",{"q-code":"","data-quickpaper-1edcc983":""},["painter.stripLines(first, count[, type]);"]),e("p",{"data-quickpaper-1edcc983":""},["闭合直线："]),e("pre",{"q-code":"","data-quickpaper-1edcc983":""},["painter.loopLines(first, count[, type]);"]),e("p",{"data-quickpaper-1edcc983":""},["三角形："]),e("pre",{"q-code":"","data-quickpaper-1edcc983":""},["painter.triangles(first, count[, type]);"]),e("p",{"data-quickpaper-1edcc983":""},["共边三角形："]),e("pre",{"q-code":"","data-quickpaper-1edcc983":""},["painter.stripTriangles(first, count[, type]);"]),e("p",{"data-quickpaper-1edcc983":""},["旋转围绕三角形："]),e("pre",{"q-code":"","data-quickpaper-1edcc983":""},["painter.fanTriangles(first, count[, type]);"]),e("p",{"data-quickpaper-1edcc983":""},['我们注意到每个方法最后都有一个可选参数type，表示索引值类型（"byte"或"short"），如果你希望借助顶点索引来绘制，请传递这个参数。']),e("h3",{"data-quickpaper-1edcc983":""},["辅助方法"]),e("p",{"data-quickpaper-1edcc983":""},["开启深度计算："]),e("pre",{"q-code":"","data-quickpaper-1edcc983":""},["painter.openDeep();"])])};c.default=d}}]);